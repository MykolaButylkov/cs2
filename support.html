<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Support — CS2 Tournaments</title>

  <link rel="shortcut icon" href="./img/logo2.png" type="image/x-icon">
  <link rel="stylesheet" href="styles/style.css" />
</head>

<body>
  <canvas class="fx-canvas fx-canvas--full" aria-hidden="true"></canvas>

  <!-- HEADER -->
  <header class="site-header">
    <div class="container">
      <div class="header-inner">

        <a class="brand" href="index.html#home" aria-label="CS2 Tournaments Home">
          <img src="./img/logo2.png" style="width: 30px;" alt="logo">
          <span style="font-size: 25px;font-weight: 500;">CSIL</span>
        </a>

        <nav class="nav-desktop" aria-label="Primary">
          <a href="index.html#home">Home</a>
          <a href="index.html#tournaments">Tournaments</a>
          <a href="index.html#news">News</a>
          <a href="./about.html">About</a>
          <a class="active" href="./support.html">Support</a>
        </nav>

        <div class="header-actions header-actions-desktop">
          <a class="btn btn-ghost" href="./login.html">Log in</a>
          <a class="btn btn-gold" href="./register.html">Sign Up</a>
        </div>

        <button class="burger" type="button" aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </header>

  <!-- MOBILE MENU -->
  <div id="mobileMenu" class="mobile-menu" aria-hidden="true">
    <div class="mobile-menu__panel neon-wrap sheen">
      <div class="mobile-menu__top">
        <a class="brand" href="index.html#home" aria-label="CS2 Tournaments Home">
          <img src="./img/logo2.png" style="width: 30px;" alt="logo">
          <span style="font-size: 25px;font-weight: 500;">CSIL</span>
        </a>
        <button class="mobile-close" type="button" aria-label="Close menu">✕</button>
      </div>

      <div class="mobile-menu__links" aria-label="Mobile">
        <a href="index.html#home">Home</a>
        <a href="index.html#tournaments">Tournaments</a>
        <a href="index.html#news">News</a>
        <a href="./about.html">About</a>
        <a href="./support.html">Support</a>
      </div>

      <div class="mobile-menu__actions">
        <a class="btn btn-ghost" href="./login.html">Log in</a>
        <a class="btn btn-gold" href="./register.html">Sign Up</a>
      </div>

      <div class="mobile-menu__bottom tiny">
        Premium CS2 cups • Secure payments • Anti-cheat
      </div>
    </div>
  </div>

  <!-- PAGE -->
  <main class="auth-page">
    <div class="container">
      <div class="auth-grid">

        <!-- Left: info -->
        <section class="neon-wrap sheen auth-promo">
          <div class="auth-promo__inner">
            <h1 class="auth-title">Support Center</h1>
            <p class="auth-sub">
              Tell us what happened, what you want to improve, or ask any question.
              We usually respond within <b>24 hours</b>.
            </p>

            <div class="auth-badges">
              <div class="auth-badge"><span class="dot"></span> Tournament issues</div>
              <div class="auth-badge"><span class="dot"></span> Account & verification</div>
              <div class="auth-badge"><span class="dot"></span> Suggestions & feedback</div>
            </div>

            <div class="auth-promo__hint tiny">
              Tip: include your tournament name and your FaceIt nickname for faster help.
            </div>
          </div>
        </section>

        <!-- Right: form -->
        <section class="neon-wrap premium-hover sheen auth-card">
          <div class="auth-card__top">
            <h2>Contact Support</h2>
            <p class="tiny">We’ll reply to your email</p>
          </div>

          <form class="auth-form" id="supportForm" action="javascript:void(0)">

            <div class="grid-2">
              <div class="field">
                <label for="sName">Your name</label>
                <input id="sName" name="name" placeholder="Mykola" required />
              </div>

              <div class="field">
                <label for="sEmail">Email</label>
                <input id="sEmail" name="email" type="email" placeholder="you@email.com" autocomplete="email" required />
              </div>
            </div>

            <div class="field">
              <label for="sTopic">Topic</label>
              <select id="sTopic" name="topic" required>
                <option value="Account / Login">Account / Login</option>
                <option value="Phone verification (SMS)">Phone verification (SMS)</option>
                <option value="Tournament registration">Tournament registration</option>
                <option value="Payments">Payments</option>
                <option value="Bug report">Bug report</option>
                <option value="Suggestion / Idea">Suggestion / Idea</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="field">
              <label for="sSubject">Subject</label>
              <input id="sSubject" name="subject" placeholder="Example: SMS code not received" required />
            </div>

            <div class="field">
              <label for="sMessage">Message</label>
              <textarea id="sMessage" name="message" rows="6"
                placeholder="Write your message to support... (please add FaceIt nickname / tournament name if needed)"
                required></textarea>
              <div class="field-hint tiny" id="charsInfo">0 / 1200</div>
            </div>

            <label class="auth-check">
              <input id="sAgree" type="checkbox" required />
              <span>I agree to be contacted by email regarding this request.</span>
            </label>

            <button class="btn btn-gold auth-submit" id="supportSubmit" type="submit">
              Send request
            </button>

            <div class="divider"></div>

            <div class="tiny auth-bottom">
              Need quick contact?
              <a class="auth-link" href="mailto:support@cs2tournaments.com">support@cs2tournaments.com</a>
            </div>
          </form>
        </section>

      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div>© 2026 CS2 Tournaments. All rights reserved.</div>

        <div class="footer-socialmedia">
          <a href="https://www.instagram.com/csisraellan/" target="_blank" rel="noopener noreferrer">
            <img style="width: 30px;" src="./img/instagram.png" alt="instagram">
          </a>
          <a href="https://www.tiktok.com/@csisraellan4?lang=ru-RU" target="_blank" rel="noopener noreferrer">
            <img style="width: 30px;" src="./img/tik-tok.png" alt="tiktok">
          </a>
          <a href="https://t.me/csisraellan" target="_blank" rel="noopener noreferrer">
            <img class="telegram-btn" src="./img/telegram.png" alt="telegram">
          </a>
          <a href="https://www.twitch.tv/csisraellan" target="_blank" rel="noopener noreferrer">
            <img class="twich-btn" src="./img/twich.png" alt="twitch">
          </a>
        </div>

        <div class="footer-links">
          <a href="./about.html">About</a>
          <a href="./support.html">Support</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/burger-menu.js"></script>
  <script src="js/fx-canvas.js"></script>

  <script>
    // Premium UX: counter + simple "send" demo
    const form = document.getElementById("supportForm");
    const msg = document.getElementById("sMessage");
    const charsInfo = document.getElementById("charsInfo");
    const btn = document.getElementById("supportSubmit");

    const MAX = 1200;

    function syncCount() {
      const n = (msg.value || "").length;
      if (charsInfo) charsInfo.textContent = `${n} / ${MAX}`;
      if (n > MAX) {
        msg.value = msg.value.slice(0, MAX);
      }
    }
    msg.addEventListener("input", syncCount);
    syncCount();

    function setLoading(isLoading, text = "Sending...") {
      btn.disabled = isLoading;
      btn.dataset.prevText = btn.dataset.prevText || btn.textContent;
      btn.textContent = isLoading ? text : btn.dataset.prevText;
    }

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const name = document.getElementById("sName").value.trim();
  const email = document.getElementById("sEmail").value.trim();
  const topic = document.getElementById("sTopic").value;
  const subject = document.getElementById("sSubject").value.trim();
  const message = document.getElementById("sMessage").value.trim();

  if (!name || !email || !topic || !subject || !message) {
    alert("Please fill all fields.");
    return;
  }

  setLoading(true);

  const API_BASE = "https://cs2-backend-0jh2.onrender.com";

  try {
    const res = await fetch(`${API_BASE}/api/support/message`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ name, email, topic, subject, message }),
    });

    const data = await res.json().catch(() => null);
    if (!res.ok || !data?.ok) throw new Error(data?.error || "Send failed");

    alert("✅ Sent! Support will reply to your email.");
    form.reset();
    syncCount();
  } catch (err) {
    console.error(err);
    alert(err.message || "Send failed");
  } finally {
    setLoading(false);
  }
});
  </script>

</body>
</html>